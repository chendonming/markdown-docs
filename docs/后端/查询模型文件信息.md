
# 查询单个文件信息

> ```url
> GET /api/convert/bim-file/infoByFileId
> ```

## 说明

查询单个文件信息，包括文件大小，下载url、转换状态等信息。

## 参数
Header
| 名称         | 说明     | 类型   |
| ------------ | --------------- |------  |
| Authorization     | Bearer {Token}    | string |

Body
| 名称         | 说明     | 类型   |
| ------------ | --------------- | ------ |
| fileId     | 文件id    | string |



## 响应

| 名称         | 说明     | 类型   |
| ------------ | -------- | ------ |
| code         | 返回码   | string |
| msg          | 提示消息 | string |
| data         | 返回数据 | json   |
| traceId      | 链路id   | string |
| responseTime | 响应时间 | string |

## 返回数据
| 名称              | 说明              | 类型   |
| ----------------- | ----------------- | ------ |
| id       | id（文件转换时使用的id）             | string |
| fileId | 文件id | string |
| fileName         | 文件名称         | string |
| fileSize         | 文件大小          | string |
| fileUrl         | 文件地址          | string |
| catalogueId         | 目录id          | string |
| fileSuffix         | 文件后缀          | string |
| fileHash         | 文件校检hash值          | string |
| fileType         | 文件类型0=普通文件，1=集成文件,2=视图文件, 3=关联文件          | string |
| renderMode         | 渲染模式（0:着色,1:真实，-1默认）          | string |
| primitiveType         | 图元类型（是否导出线型元素）          | string |
| fineness         | 转换插件精细度（0:标准,1:高精度）          | string |
| reducedRate         | 转换中心精细度          | string |
| lod         | 是否开启lod          | string |
| sort         | 排序          | string |
| guideFrame         | 导出线框（是/否）          | string |
| uploadTime         | 上传时间          | string |
| transferStatus         | 文件当前转换状态-3=文件未上传到oss -2=文件未保存到应用 -1 =未转换，0=待转化，1=转换中，2=转换成功，99：转换失败          | string |
| transferStatusName         | 文件当前转换状态对应的中文          | string |
| createdDate         | 创建时间          | string |
| createdBy         | 创建用户          | string |
| lastModifiedDate         | 修改时间          | string |
| lastModifiedBy         | 修改用户          | string |
| deletedDate         | 删除时间          | string |
| deletedBy         | 删除用户          | string |
| deleted         | 删除标志          | string |
| extra         | json格式的数据，可定制与fileid绑定的数据          | string |
| fileSharedLink         | 文件分享链接          | string |
| progress         | 转换精度          | string |
| taskId         | 转换任务id          | string |
| conversionTime         | 转换耗时          | string |
| transferStartTime         | 开始转换时间          | string |
| transferEndTime         | 结束转换时间          | string |
| catalogueName         | 目录名称          | string |
| userId         | 用户id          | string |
| userAccount         | 用户账号          | string |
| userName         | 用户名          | string |
| clientId         | 应用id          | string |
| appName         | 应用名称          | string |


## 请求示例

##### 请求 path

> http://119.39.38.228:9986/api/convert/bim-file/infoByFileId

请求参数

```
http://119.39.38.228:9986/api/convert/bim-file/infoByFileId/xxxx
```

## 响应示例

```json
{
	"code": "00000",
	"msg": "请求成功",
	"data": {
		"id": "", 
		"fileId": "",
		"fileName": "",
		"fileSize": 0,
		"fileUrl": "",
		"catalogueId": "",
		"fileSuffix": "",
		"fileHash": "",
		"fileType": 0,
		"renderMode": 0,
		"primitiveType": true,
		"fineness": 0,
		"sort": 0,
		"guideFrame": true,
		"uploadTime": "",
		"transferStatus": 0, 
		"transferStatusName": "",
		"createdDate": "",
		"createdBy": "",
		"lastModifiedDate": "",
		"lastModifiedBy": "",
		"deletedDate": "",
		"deletedBy": "",
		"deleted": true,
		"extra": "",
		"fileSharedLink": "",
		"progress": 0,
		"taskId": "",
		"conversionTime": "",
		"transferStartTime": "",
		"transferEndTime": "",
		"catalogueName": "",
		"userId": "",
		"userAccount": "",
		"userName": "",
		"clientId": "",
		"appName": ""
	},
	"traceId": "",
	"responseTime": ""
}
```


# 查询多个文件信息

> ```url
> POST /api/convert/bim-file/infoByFileIds
> ```

## 说明

查询多个文件信息，包括文件大小，下载url、转换状态等信息。

## 参数
Header
| 名称         | 说明     | 类型   |
| ------------ | --------------- |------  |
| Authorization     | Bearer {Token}    | string |

Body
| 名称         | 说明     | 类型   |
| ------------ | --------------- | ------ |
| fileIds     | 文件id数组    | string[] |



## 响应

| 名称         | 说明     | 类型   |
| ------------ | -------- | ------ |
| code         | 返回码   | string |
| msg          | 提示消息 | string |
| data         | 返回数据 | json   |
| traceId      | 链路id   | string |
| responseTime | 响应时间 | string |

## 返回数据
| 名称              | 说明              | 类型   |
| ----------------- | ----------------- | ------ |
| id       | id（文件转换时使用的id）             | string |
| fileId | 文件id | string |
| fileName         | 文件名称         | string |
| fileSize         | 文件大小          | string |
| fileUrl         | 文件地址          | string |
| catalogueId         | 目录id          | string |
| fileSuffix         | 文件后缀          | string |
| fileHash         | 文件校检hash值          | string |
| fileType         | 文件类型0=普通文件，1=集成文件,2=视图文件, 3=关联文件          | string |
| renderMode         | 渲染模式（0:着色,1:真实，-1默认）          | string |
| primitiveType         | 图元类型（是否导出线型元素）          | string |
| fineness         | 转换插件精细度（0:标准,1:高精度）          | string |
| reducedRate         | 转换中心精细度          | string |
| lod         | 是否开启lod          | string |
| sort         | 排序          | string |
| guideFrame         | 导出线框（是/否）          | string |
| uploadTime         | 上传时间          | string |
| transferStatus         | 文件当前转换状态 -3=文件未上传到oss -2=文件未保存到应用 -1 =未转换，0=待转化，1=转换中，2=转换成功，99：转换失败          | string |
| transferStatusName         | 文件当前转换状态对应的中文          | string |
| createdDate         | 创建时间          | string |
| createdBy         | 创建用户          | string |
| lastModifiedDate         | 修改时间          | string |
| lastModifiedBy         | 修改用户          | string |
| deletedDate         | 删除时间          | string |
| deletedBy         | 删除用户          | string |
| deleted         | 删除标志          | string |
| extra         | json格式的数据，可定制与fileid绑定的数据          | string |
| fileSharedLink         | 文件分享链接          | string |
| progress         | 转换精度          | string |
| taskId         | 转换任务id          | string |
| conversionTime         | 转换耗时          | string |
| transferStartTime         | 开始转换时间          | string |
| transferEndTime         | 结束转换时间          | string |
| catalogueName         | 目录名称          | string |
| userId         | 用户id          | string |
| userAccount         | 用户账号          | string |
| userName         | 用户名          | string |
| clientId         | 应用id          | string |
| appName         | 应用名称          | string |


## 请求示例

##### 请求 path

> http://119.39.38.228:9986/api/convert/bim-file/infoByFileIds

请求参数

```json
["1111","222"]
```

## 响应示例

```json
{
	"code": "00000",
	"msg": "请求成功",
	"data": [{
		"id": "", 
		"fileId": "",
		"fileName": "",
		"fileSize": 0,
		"fileUrl": "",
		"catalogueId": "",
		"fileSuffix": "",
		"fileHash": "",
		"fileType": 0,
		"renderMode": 0,
		"primitiveType": true,
		"fineness": 0,
		"sort": 0,
		"guideFrame": true,
		"uploadTime": "",
		"transferStatus": 0, 
		"transferStatusName": "",
		"createdDate": "",
		"createdBy": "",
		"lastModifiedDate": "",
		"lastModifiedBy": "",
		"deletedDate": "",
		"deletedBy": "",
		"deleted": true,
		"extra": "",
		"fileSharedLink": "",
		"progress": 0,
		"taskId": "",
		"conversionTime": "",
		"transferStartTime": "",
		"transferEndTime": "",
		"catalogueName": "",
		"userId": "",
		"userAccount": "",
		"userName": "",
		"clientId": "",
		"appName": ""},
		{
		"id": "", 
		"fileId": "",
		"fileName": "",
		"fileSize": 0,
		"fileUrl": "",
		"catalogueId": "",
		"fileSuffix": "",
		"fileHash": "",
		"fileType": 0,
		"renderMode": 0,
		"primitiveType": true,
		"fineness": 0,
		"sort": 0,
		"guideFrame": true,
		"uploadTime": "",
		"transferStatus": 0, 
		"transferStatusName": "",
		"createdDate": "",
		"createdBy": "",
		"lastModifiedDate": "",
		"lastModifiedBy": "",
		"deletedDate": "",
		"deletedBy": "",
		"deleted": true,
		"extra": "",
		"fileSharedLink": "",
		"progress": 0,
		"taskId": "",
		"conversionTime": "",
		"transferStartTime": "",
		"transferEndTime": "",
		"catalogueName": "",
		"userId": "",
		"userAccount": "",
		"userName": "",
		"clientId": "",
		"appName": ""}
		],
	"traceId": "",
	"responseTime": ""
}
```
